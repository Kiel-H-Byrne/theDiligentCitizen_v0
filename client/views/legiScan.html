<template name="legiScan">
<form id="legi-search">
  <p>Search for an issue in {{location}}: </p>
    <input id="query" name="query" type="text" />
    <button class="button">Go!</button>
</form>
  <!-- set the data context -->
  {{#with query}}
  <h3> Bills related to '{{query.query}}' ... </h3>
    <!-- if location has an error property, display it -->
    {{#if error}}
      <p>There was an error:[{{error.errorType}}] [{{error.message}}]!</p>
    {{else}}
      <div>
        {{#each queryList}}
          {{#if this.value.title}}
            <li class="li-title">{{this.value.title}}</li>
            <li class="li-billno">{{this.value.state}} - {{this.value.bill_number}}</li>
            <li class="li-action">{{this.value.last_action_date}} - {{this.value.last_action}}</li>
            <li class="li-url"><a href="{{this.value.research_url}}">...research this</a></li>
            <li class="li-url"><a href="{{this.value.text_url}}">{{this.value.text_url}}</a></li>
          {{/if}}
        {{/each}}
      </div>
    {{/if}} 
  {{/with}}
</template>